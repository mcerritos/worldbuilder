{% extends 'base.html' %}
{% block content %}
    <div class=".uk-card uk-card-default card">
        <h3 id="domainHeader">Domain title</h5> <hr />
        <h5 id="projectSubtitle">{{current_project.name}}</h5>
        <p>A summary of text about the domain</p>
    </div>

    {% block specific %}
    {% endblock %}
    
    <div class=".uk-card uk-card-default card">
        {% if posts %}
            {% for post in posts %}
            <div class=".uk-card uk-card-default post">
                <div class=".uk-card-body">
                <h6 class=".uk-card-title uk-flex uk-flex-center uk-flex-middle p{{post.pk}}">{{ post.title }}</h5>
                <p class=".uk-card-title uk-flex uk-flex-center uk-flex-middle"> by {{ post.author }} </p>
                <p class="uk-flex uk-flex-center uk-flex-middle p{{post.pk}}">Description: {{ post.text }}</p>
                {% if user.username == post.author.username %}
                    <a href="/post/{{post.pk}}/delete" class="buttons uk-button uk-button-default">Delete Post</a>
                    <a uk-toggle="target: #update-post" class="buttons uk-button uk-button-default openUpdatePost"
                     data-postid="{{post.pk}}" >Update Post</a>
                {% endif %}
                </div>
            </div>
            {% endfor %} 
        {% else %}
            <div>
                <p>Looking for inspiration? Check out the questions.</p>
            </div>
        {% endif %}
        <button uk-toggle="target: #new-post" 
        class="uk-button uk-button-default uk-flex-center uk-flex-middle buttons" >Add a new post</button>
    </div>

     <!-- new post modal -->
    <div id="new-post" uk-modal>
        <div class="uk-modal-dialog uk-modal-body">
            <form method="POST">
              {% csrf_token %}
              {{ post_form.as_p }} <br><br>
              <input type="submit" class="buttons" value="Add Post">
            </form>
            {% if error_message %}<p class="red-text">{{ error_message }}</p>{% endif %}
        </div>
    </div>

    <!-- update post modal -->
    <div id="update-post" uk-modal>
        <div class="uk-modal-dialog uk-modal-body" id="projectUpdateDiv">
            <form name="projectUpdateForm" action="{% url 'profile' %}" method="POST">
            {% csrf_token %}
                <label for="name">Title:</label><br>
                <input type="text" id="updateTitle" name="name"><br>
                <label for="text">Text:</label><br>
                <textarea rows="20" cols="30" maxlength="500" id="updateText" name="text"></textarea><br><br>
            <input type="submit" class="btn buttons" id="updatePostButton">
            </form>
            {% if error_message %}<p class="red-text">{{ error_message }}</p>{% endif %}
        </div>
    </div>

        <!-- {% if user.is_authenticated %}
    <div class=".uk-card uk-card-default card">
        <h5 class="uk-flex uk-flex-center uk-flex-middle">Questions</h5>
        {% for question in questions %}
            <p class="uk-flex uk-flex-center uk-flex-middle"> Description: {{ question.text }}</p>
        {% endfor %} 
    </div>
    {% endif %} -->


{% endblock %}